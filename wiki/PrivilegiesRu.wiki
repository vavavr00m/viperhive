#summary Управление привилегиями и создание новых уровней доступа
= Управление привилегиями и создание новых уровней доступа =

Сейчас мы рассмотрим добавление или урезание доступа к командам хаба для различных уровней пользователей, а так же добавление новых уровней и присваивания их пользователям.

== Привилегии ==

Все привилегии пользователей хранятся в файле */settings/privlist.yaml* и имеют вид:

_уровень_:

- _команда_

таким образом, пользователи с уровнем доступа *owner* имеет доступ ко всем функциям:

*owner:*

*- `'*'` *

а незарегистрированный пользователь имеет статус *unreg* и имеет доступ только к команде саморегистрации *regme*

*unreg:*

*- regme*

Так же, зарегистрированным пользователям *reg* разрешено только менять свой пароль командой *Passwd*

*reg:*

*- Passwd*

== Создание новых уровней доступа ==

Создадим свой, нестандартный уровень пользователя, например *moderator*, с правами на заглушку\разглушку, просмотр зарегистрированных, забаненных, заглушенных, на просмотр информации пользователя, бан, кик, смену своего пароля и просмотра списка своих команд. Для этого, открываем файл */settings/privlist.yaml* и дописываем в него: 

*moderator:*

*- mute*

*- muteNick*

*- muteAddr*

*- ListReg*

*- ListBans*

*- ListMute*

*- UI*

*- BanAddr*

*- unmute*

*- unmuteNick*

*- unmuteAddr*

*- Ban*

*- BanNick*

*- Passwd*

*- Help*

*- Kick *

==Иммунитет и ключ у ника==

Для того, чтобы определенный уровень пользователей имел иммунитет от бана и\или ключ у ника (отображался как оператор в списке) необходимо отредактировать файл */settings/core.yaml*, а именно добавить или убрать уровень в следующих местах:

Для отображения как оператор (ключ у ника) добавить название уровня под *OpLevels:*

Для иммунитета от бана добавить название уровня под *Protected:*

Теперь, зделаем так, чтобы наш новый уровень *moderator* имел ключ у ника, но мог быть забанен. Таким образом в файле */settings/core.yaml* будут следующие строки:


*OpLevels:*

*- owner*

*- op*

*- moderator*

*Protected:*

*- owner*

*- op*

=Присваивание уровня доступа пользователю=

Для того, чтобы присвоить пользователю определенный уровень, пользователь должен быть *зарегистрированным* на хабе. Для этого пользователь должен ввести в главном чате 
*!regme _пароль_* (либо воспользоваться меню) после чего он получит уровень *Reg*.
Например: 

*!regme pass*

Затем администратор хаба должен ввести в главном чате !SetLevel _ник_ _<уровень>_ (либо воспользоваться меню)

Для примера, присвоим статус *Оператора* пользователю *User*. Для этого администратор хаба должен ввести в общий чат следующее:

* `!SetLevel User op `*